"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7459],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=u(n),d=i,g=m["".concat(s,".").concat(d)]||m[d]||c[d]||a;return n?r.createElement(g,o(o({ref:t},p),{},{components:n})):r.createElement(g,o({ref:t},p))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<a;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6645:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return m}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],l={},s="Permission System (Grants)",u={unversionedId:"plugins/permissions",id:"plugins/permissions",title:"Permission System (Grants)",description:"Granular read and write access must be explicitly requested by a plugin through a grant request and then explicitly approved by the administrator of the app in order for a plugin to get the permission required to make changes to the app configuration. The full list of grants available is here.",source:"@site/docs/plugins/permissions.md",sourceDirName:"plugins",slug:"/plugins/permissions",permalink:"/docs/plugins/permissions",editUrl:"https://github.com/ambientkit/ambientkit.github.io/blob/main/docs/plugins/permissions.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Tookit",permalink:"/docs/plugins/toolkit"},next:{title:"Library",permalink:"/docs/plugins/library"}},p=[{value:"Trusted Plugins",id:"trusted-plugins",children:[],level:2}],c={toc:p};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"permission-system-grants"},"Permission System (Grants)"),(0,a.kt)("p",null,"Granular read and write access must be explicitly requested by a plugin through a ",(0,a.kt)("a",{parentName:"p",href:"/docs/plugins/grants"},"grant request")," and then explicitly approved by the administrator of the app in order for a plugin to get the permission required to make changes to the app configuration. The full list of grants available is ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ambientkit/ambient/blob/main/grant.go"},"here"),"."),(0,a.kt)("p",null,"Plugins are only allowed to interact with the Ambient app when:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"administrator enables a plugin"),(0,a.kt)("li",{parentName:"ol"},"plugin requests a grant"),(0,a.kt)("li",{parentName:"ol"},"administrator approves the grant request")),(0,a.kt)("h2",{id:"trusted-plugins"},"Trusted Plugins"),(0,a.kt)("p",null,"When plugins are trusted, they will be enabled and all of their grants will be approved automatically. You also cannot disable the plugins when they are trusted."),(0,a.kt)("p",null,"The core plugins (logger, storage engine, router, template engine, and session manager) do not need to be added to the trusted plugin list because the app cannot function without them so they are trusted implicitly."),(0,a.kt)("p",null,"You can see an example below of how to add your plugin as well as mark it as trusted."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'import (\n    "log"\n    "os"\n\n    "github.com/ambientkit/ambient"\n    "github.com/yourname/mvp"\n)\n\n// Plugins defines the plugins.\nfunc Plugins() *ambient.PluginLoader {\n    return &ambient.PluginLoader{\n        // Core plugins are implicitly trusted.\n        Router:         nil,\n        TemplateEngine: nil,\n        SessionManager: nil,\n        // Trusted plugins are those that are typically needed to boot so they\n        // will be enabled and given full access.\n        TrustedPlugins: map[string]bool{\n            "mvp":   true, // Your plugin is trusted here.\n        },\n        Plugins: []ambient.Plugin{\n            mvp.New(), // Your plugin is included here.\n        },\n        Middleware: []ambient.MiddlewarePlugin{},\n    }\n}\n')))}m.isMDXComponent=!0}}]);