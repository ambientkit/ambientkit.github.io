"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6517],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||a;return n?r.createElement(f,i(i({ref:t},c),{},{components:n})):r.createElement(f,i({ref:t},c))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2374:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],l={},s="Tookit",p={unversionedId:"plugins/toolkit",id:"plugins/toolkit",title:"Tookit",description:"Almost all plugins have access to a toolkit that gives them access to approved services that they can use. The Toolkit object includes methods from these:",source:"@site/docs/plugins/toolkit.md",sourceDirName:"plugins",slug:"/plugins/toolkit",permalink:"/docs/docs/plugins/toolkit",editUrl:"https://github.com/ambientkit/docs/blob/main/docs/plugins/toolkit.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Plugins",permalink:"/docs/docs/plugins/overview"},next:{title:"Permission System (Grants)",permalink:"/docs/docs/plugins/permissions"}},c=[],u={toc:c};function d(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"tookit"},"Tookit"),(0,a.kt)("p",null,"Almost all plugins have access to a toolkit that gives them access to approved services that they can use. The Toolkit object includes methods from these:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Logger - plugin safe logger with all methods except ",(0,a.kt)("inlineCode",{parentName:"li"},"Fatal()")," since plugins shouldn't be able to terminate the app"),(0,a.kt)("li",{parentName:"ul"},"Router - plugin safe router with a route recorder so routes can be disabled when a plugin is disabled. It also applies the ",(0,a.kt)("inlineCode",{parentName:"li"},"AMB_URL_PREFIX")," environment variable if set."),(0,a.kt)("li",{parentName:"ul"},"Renderer - plugin safe template engine that adds a Funcmap of ",(0,a.kt)("inlineCode",{parentName:"li"},"URLPrefix")," to all templates"),(0,a.kt)("li",{parentName:"ul"},"SecureSite - plugin safe API for interacting with the application that is governed by the permission system (grants)")),(0,a.kt)("p",null,"Each of the objects above have a layer of abstraction around them to prevent plugins from getting access other exported methods. You can see an example ",(0,a.kt)("a",{parentName:"p",href:"https://go.dev/play/p/zVxZeA3dJ4n"},"here")," where a plugin could potentially convert an object back to it's native type and then have access to any of the exported methods. The layer of abstraction around each object provides protection against this type of attack."),(0,a.kt)("p",null,"It also contains these helper functions:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Redirect - redirect to new URL"),(0,a.kt)("li",{parentName:"ul"},"Path - URL with proper URL prefix"),(0,a.kt)("li",{parentName:"ul"},"JSON - write JSON output to response writer"),(0,a.kt)("li",{parentName:"ul"},"JSONPretty - write pretty JSON output to response writer")),(0,a.kt)("p",null,"The Toolkit is passed into plugins via the ",(0,a.kt)("a",{parentName:"p",href:"/docs/docs/plugins/enable"},(0,a.kt)("inlineCode",{parentName:"a"},"Enable()"))," method."))}d.isMDXComponent=!0}}]);