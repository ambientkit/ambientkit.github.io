"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5629],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):u(u({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=l(n),f=o,m=d["".concat(s,".").concat(f)]||d[f]||c[f]||i;return n?r.createElement(m,u(u({ref:t},p),{},{components:n})):r.createElement(m,u({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,u=new Array(i);u[0]=d;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:o,u[1]=a;for(var l=2;l<i;l++)u[l]=n[l];return r.createElement.apply(null,u)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5818:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return a},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return p},default:function(){return d}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),u=["components"],a={},s="Routes",l={unversionedId:"plugins/routes",id:"plugins/routes",title:"Routes",description:"The Routes() function registers HTTP handlers with the router.",source:"@site/docs/plugins/routes.md",sourceDirName:"plugins",slug:"/plugins/routes",permalink:"/docs/plugins/routes",editUrl:"https://github.com/ambientkit/ambientkit.github.io/blob/main/docs/plugins/routes.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Router",permalink:"/docs/plugins/router"},next:{title:"Grant Requests",permalink:"/docs/plugins/grants"}},p=[],c={toc:p};function d(e){var t=e.components,n=(0,o.Z)(e,u);return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"routes"},"Routes"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"Routes()")," function registers HTTP handlers with the router."),(0,i.kt)("p",null,"A ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ambientkit/plugin/blob/main/generic/simplelogin/simplelogin.go"},"plugin with routes")," defined must include the MVP code as well as the ",(0,i.kt)("inlineCode",{parentName:"p"},"Routes()")," function."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'// Routes sets routes for the plugin.\nfunc (p *Plugin) Routes() {\n    p.Mux.Get("/", p.home)\n    p.Mux.Get("/login", p.login)\n    p.Mux.Post("/login", p.loginPost)\n    p.Mux.Get("/dashboard", p.dashboard)\n    p.Mux.Get("/dashboard/logout", p.logout)\n}\n')),(0,i.kt)("p",null,"The function doesn't return any objects and shouldn't fail either. It also takes a special kind of HTTP handler - one that returns a HTTP status code and an error. A standard HTTP handler doesn't have any returns, but that makes it more difficult to standardize how to write out status codes and output errors so this new function definition improves on it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'// Home renders the home template.\nfunc (p *Plugin) Home(w http.ResponseWriter, r *http.Request) (status int, err error) {\n    vars := make(map[string]interface{})\n    vars["title"] = "Home"\n    return p.Render.Page(w, r, assets, "template/content/home", p.funcMap(r), vars)\n}\n')))}d.isMDXComponent=!0}}]);